registers i zero

dec_x:
  jeq X zero end_prog
  dec X

# if (i == Y)
  jeq i Y pass_down

# add Y to Out, make i count from 0 to Y
pass_up:
  jeq i Y end_pass_up
  inc i
  inc Out
  jeq X X pass_up
end_pass_up:

# otherwise i == 0
  jeq X X dec_x

# add Y to Out, make i count from Y to 0
pass_down:
  jeq i zero end_pass_down
  dec i
  inc Out
  jeq X X pass_down
end_pass_down:

# endif
  jeq X X dec_x

end_prog:
